@model LND.Web.Models.ProductViewModel
@{
    ViewBag.Title = "Detail";
    Layout = "~/Views/Shared/layouts.cshtml";
}

<!--/single_page-->
<!-- /banner_bottom_agile_info -->
<div class="page-head_agile_info_w3l">
    <div class="container">
        <!--/w3_short-->
        <div class="services-breadcrumb">
            <div class="agile_inner_breadcrumb">
                <ul class="w3_short">
                    <li><a href="/">Trang chủ</a><i>/</i></li>
                    <li>Chi tiết sản phẩm </li>
                </ul>
            </div>
        </div>
        <!--//w3_short-->
    </div>
</div>
<!-- banner-bootom-w3-agileits -->
<div class="banner-bootom-w3-agileits">
    <div class="container">
        <div class="col-md-4 single-right-left ">
            <div class="grid images_3_of_2">
                <div class="flexslider">

                    <ul class="slides">
                        @{
                            var moreImages = (List<string>)ViewBag.MoreImages;
                            foreach (var image in moreImages.Take(3))
                            {
                                <li data-thumb="@image">
                                    <div class="thumb-image img-responsive"> <img src="@image" data-imagezoom="true"> </div>
                                </li>
                            }
                        }
                    </ul>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <div class="col-md-8 single-right-left simpleCart_shelfItem">
            <h3>@Model.Name</h3>
            @if (Model.PromotionPrice.HasValue)
            {
                var priceCurent = Model.Price * (1 - Model.PromotionPrice / 100);
                <p><span class="item_price">@priceCurent.Value.ToString("N0") đ</span> <del>@Model.Price.ToString("N0") đ</del></p>
            }
            else
            {
                <p><span class="item_price">@Model.Price</span> </p>
            }
            <div>
                @if (Model.Quantity == 0)
                {
                    <small><strong>Sản phẩm hết hàng.</strong></small>
                }
                else
                {
                    <small>Số lượng hàng còn trong kho:<strong>@Model.Quantity</strong> </small>
                }

            </div>
            <div class="rating1">
                <span class="starRating">
                    <input id="rating5" type="radio" name="rating" value="5">
                    <label for="rating5">5</label>
                    <input id="rating4" type="radio" name="rating" value="4">
                    <label for="rating4">4</label>
                    <input id="rating3" type="radio" name="rating" value="3" checked="">
                    <label for="rating3">3</label>
                    <input id="rating2" type="radio" name="rating" value="2">
                    <label for="rating2">2</label>
                    <input id="rating1" type="radio" name="rating" value="1">
                    <label for="rating1">1</label>
                </span>
            </div>
            <div class="description">
                <h5>Mã giảm giá</h5>
                <form action="#" method="post">
                    <input type="text" value="Code" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Code';}">
                    <input type="submit" value="Check">
                </form>
            </div>
            @if (Model.Quantity != 0)
            {
                <div class="occasion-cart">
                    <div class="snipcart-details top_brand_home_details item_add single-item hvr-outline-out button2">
                        <input type="submit" data-id="@Model.ID" value="Thêm vào giỏ hàng" class="button btnAddToCart" />
                    </div>
                </div>
            }

            @if (Model.Warranty != null)
            {
                <small>Thời gian bảo hành: @Model.Warranty tháng.</small>
            }
            @{
                var Tags = (IEnumerable<LND.Web.Models.TagViewModel>)ViewBag.Tags;
            }
            <div class="tag">
                <h5>Tag :</h5>
                <ul class="taglist">
                    @foreach (var tag in Tags)
                    {
                        <li><a href="/tag-@(tag.ID)-html">@(tag.Name) , </a></li>
                    }
                </ul>
            </div>
            <div class="clearfix"></div>
            <ul class="social-nav model-3d-0 footer-social w3_agile_social single_page_w3ls">
                <li class="share">Chia sẻ: </li>
                <li>
                    <a href="#" class="facebook">
                        <div class="front"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="#" class="twitter">
                        <div class="front"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="#" class="instagram">
                        <div class="front"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-instagram" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="#" class="pinterest">
                        <div class="front"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                    </a>
                </li>
            </ul>
        </div>
        <div class="clearfix"> </div>
        <!-- /new_arrivals -->
        <div class="responsive_tabs_agileits">
            <div id="horizontalTab">
                <ul class="resp-tabs-list">
                    <li>Nhận xét</li>
                    <li>Thông tin chi tiết</li>
                </ul>
                <div class="resp-tabs-container">
                    <!--/tab_one-->
                    <div class="tab1">
                        <div class="single_page_agile_its_w3ls">
                            <div id="fb-root"></div>
                            <script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v5.0"></script>
                            <div class="fb-comments" data-href="https://www.facebook.com/MrQuang.Sami/photos/a.1063817503829374/1063817470496044/?type=3&amp;theater" data-width="500" data-numposts="10"></div>
                        </div>
                    </div>
                    <!--//tab_one-->
                    <div class="tab2">
                        <div class="single_page_agile_its_w3ls">
                            @if(Model.Description == null)
                            {
                                <h4>Quản trị viên chưa cập nhật thông tin về sản phẩm này</h4>
                            }
                            @Model.Content
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Relate products -->
@{
    var relatedProducts = (IEnumerable<LND.Web.Models.ProductViewModel>)ViewBag.RelatedProducts;
}
<div class="text-center"><h2>Sản Phẩm Liên Quan</h2></div>
<hr />
<div class="resp-tabs-container" style="padding-left:100px; padding-right:100px; padding-bottom:500px;">
    @foreach (var product in relatedProducts)
    {
        var url = product.Alias + "-p-" + product.ID + "-html";
        var pricePromotion = product.Price * (1 - product.PromotionPrice / 100);

        <div class="col-md-3 product-men">
            <div class="men-pro-item simpleCart_shelfItem">

                <div class="men-thumb-item">
                    <img src="@product.Image" alt="" class="pro-image-front">
                    <img src="@product.Image" alt="" class="pro-image-back">
                    <div class="men-cart-pro">
                        <div class="inner-men-cart-pro">
                            <a href="@url" class="link-product-add-cart">Quick View</a>
                        </div>
                    </div>
                    @if (product.HotFlag == true)
                    {
                        <span class="product-new-top">Hot</span>
                    }
                </div>
                <div class="item-info-product ">
                    <h4><a href="@url">@product.Name</a></h4>
                    <div class="info-product-price">

                        @if (product.PromotionPrice.HasValue)
                        {
                            <span class="item_price">@pricePromotion.Value.ToString("N0") đ</span> <br />
                            <del>@product.Price.ToString("N0") đ</del>
                        }
                        else
                        {
                            <br />
                            <span class="item_price">@product.Price.ToString("N0")</span>
                        }
                    </div>
                    <div class="snipcart-details top_brand_home_details item_add single-item hvr-outline-out button2">
                        @if (product.Quantity == 0)
                        {
                            <input type="submit" data-id="@product.ID" value="Sản phẩm hết hàng" class="button " />
                        }
                        else
                        {
                            <input type="submit" data-id="@product.ID" value="Thêm vào giỏ hàng" class="button btnAddToCart" />
                        }

                    </div>
                </div>
            </div>
        </div>
    }
</div>